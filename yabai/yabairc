source "$HOME/.config/colors.sh"

yabai -m config layout bsp

yabai -m config window_shadow off
yabai -m config window_opacity on
yabai -m config normal_window_opacity 0.90
yabai -m config active_window_opacity 1.0 #0.90

yabai -m config window_gap 12
yabai -m config left_padding 12
yabai -m config right_padding 12
yabai -m config top_padding 12
yabai -m config bottom_padding 12
yabai -m config external_bar all:40:0

# yabai -m config focus_follows_mouse autofocus
yabai -m config window_animation_duration 0 #0.2
yabai -m config window_opacity_duration 0.2
yabai -m config menubar_opacity 0.0

yabai -m rule --add app="^System Settings$" manage=off
yabai -m rule --add app="^Preview$" manage=off

# godot floating windows
yabai -m rule --add title="^Create New Node$" manage=off
yabai -m rule --add title="^Save Scene As...$" manage=off
yabai -m rule --add title="^Project Settings (project.godot)$" manage=off
yabai -m rule --add title="^Select " manage=off
yabai -m rule --add title="^Command Palette$" manage=off
yabai -m rule --add title="^Open Base Scene$" manage=off
yabai -m rule --add title="^Quick Open Scene...$" manage=off
yabai -m rule --add title="^Create Folder$" manage=off
yabai -m rule --add title="^Attach Node Script$" manage=off
yabai -m rule --add title="shovel jam 2025 (DEBUG)" manage=off

borders hidpi=on active_color="$COLOR_FADED" inactive_color=$COLOR_BG width=4.0
